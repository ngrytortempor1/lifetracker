# Release Preparation Checklist

## ビルドと署名
- [x] `./gradlew :app:assembleRelease` と `:app:bundleRelease` を成功させる（libandroidx.graphics.path.so の strip 警告あり・後追い確認）
- [x] リリース鍵の keystore と署名設定を `gradle.properties` / `app/build.gradle.kts` に追加し、CI/CD から参照できるよう保護する
- [x] バージョンコードとバージョン名を更新し、`defaultConfig` に反映する
- [ ] ProGuard / R8 設定 (`proguard-rules.pro`) を見直し、不要なクラスが最適化・難読化で除去されていないことを確認する
- [ ] FileProvider・外部ストレージのパスなど、エクスポート周辺のパーミッション設定がリリースビルドでも機能するか実機で確認する

## テストと品質保証
- [x] `:app:testReleaseUnitTest` を追加実行し、リリース用ビルドタイプで単体テストを通す
- [x] `:app:connectedDebugAndroidTest` を再実行し、計測テストがグリーンであることを確認（2025-11-04）
- [x] `:app:lintRelease` を実行し、警告を洗い出し（依存バージョン更新・KSP移行・targetSdk などは要検討）
- [ ] 主要端末・OS バージョンで手動テスト（設定画面の高度な機能導線、ダッシュボードエクスポート、ポモドーロ、タスク/習慣管理など）を行う
- [ ] アクセシビリティ（TalkBack/Fokus、Chip のラベル、配色コントラスト）を確認する
- [ ] パフォーマンス・起動時間をベンチマークし、ANR やクラッシュログがないかプレリリースビルドで監視する
- [ ] Firebase Test Lab など外部デバイスファームで回帰テストを実施する（必要に応じて）

## Play ストア提出物
- [ ] 最新スクリーンショット（電話・タブレット）、プレイバナー、アプリアイコンを準備する
- [ ] ストア説明文（短文・長文）、キーワード、更新内容を作成・レビューする
- [ ] プライバシーポリシーURL と Data Safety フォームを更新し、ダッシュボードエクスポート機能のデータ取扱いを反映する
- [ ] コンテンツレーティングアンケートを再提出し、AI 連携・データ処理内容を最新化する
- [ ] 対象 API レベルと互換性要件が Google Play の締切を満たしているか確認する

## コンプライアンスと運用
- [ ] 依存ライブラリのライセンス表記をアプリ内またはドキュメントにまとめる
- [ ] 状況に応じて GDPR / CCPA のデータ取得・削除リクエスト動線を確認する
- [ ] クラッシュレポート／ログ収集（Firebase Crashlytics 等）の導入とリリースモニタリング体制を整える
- [ ] サポート連絡先と FAQ/ヘルプコンテンツをユーザー向けに整備する

## ローンチ準備
- [ ] リリースノートを作成し、既存ユーザー向けの変更点（高度な設定、CSV/PDF エクスポートなど）を明記する
- [ ] ステージング／内部テストトラックで数日運用し、指標やクラッシュの有無を確認する
- [ ] リリース後のフィードバック収集手段（アプリ内の問い合わせ導線、アンケート等）を確認する
- [ ] 主要 KPI（アクティブ率、エクスポート利用率など）の追跡方法を決め、ダッシュボードを用意する
